{"title":"linux日常记录","date":"2020-01-29T12:03:19.000Z","link":"post/000","updated":"2020-02-03T03:51:07.990Z","content":"<h1 id=\"shell\">shell<a href=\"post/000#shell\"></a></h1><p>记录一些shell指令</p>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dpkg -X 123.deb ./    <span class=\"comment\"># 解压deb程序</span></span><br><span class=\"line\">dpkg -e 123.deb ./    <span class=\"comment\"># 解压deb介绍</span></span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 将后缀为txt的文件后缀</span></span><br><span class=\"line\">find ./ -name <span class=\"string\">\"*.txt\"</span> | awk <span class=\"string\">'&#123;new=gensub(\".txt\",\"\",1);system(\"mv \"$0\" \"new)&#125;'</span></span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># termux制作软件源</span></span><br><span class=\"line\">termux-apt-repo /deb文件所在目录 /生成的源目录</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 保存当前终端</span></span><br><span class=\"line\"><span class=\"built_in\">printf</span> <span class=\"string\">\"\\e[?1049h\"</span></span><br><span class=\"line\"><span class=\"comment\"># 恢复终端</span></span><br><span class=\"line\"><span class=\"built_in\">printf</span> <span class=\"string\">\"\\e[?1049l\"</span></span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 判断系统架构</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $(uname -m)</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 测试abc是否存在</span></span><br><span class=\"line\"><span class=\"built_in\">test</span> abc</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 判断输入的值</span></span><br><span class=\"line\"><span class=\"built_in\">read</span> -p <span class=\"string\">\"请输入值\"</span> num</span><br><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"variable\">$num</span> = 1 ]</span><br><span class=\"line\"><span class=\"keyword\">then</span></span><br><span class=\"line\">\t<span class=\"built_in\">echo</span> <span class=\"string\">\"输入的是 1\"</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">\t<span class=\"built_in\">echo</span> <span class=\"string\">\"输入的不是 1\"</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 创建一个交互自命名的文件</span></span><br><span class=\"line\"><span class=\"built_in\">read</span> -p <span class=\"string\">\"请输入你要的创建的文件名\"</span> abc</span><br><span class=\"line\">touch <span class=\"variable\">$abc</span></span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(date +<span class=\"string\">\"参数\"</span>)</span><br><span class=\"line\">%Y    <span class=\"comment\">#年分</span></span><br><span class=\"line\">%m    <span class=\"comment\">#月分</span></span><br><span class=\"line\">%d    <span class=\"comment\">#日期</span></span><br><span class=\"line\">%W    <span class=\"comment\">#第几周</span></span><br><span class=\"line\">%a    <span class=\"comment\">#天气</span></span><br><span class=\"line\">%H    <span class=\"comment\">#时</span></span><br><span class=\"line\">%M    <span class=\"comment\">#分</span></span><br><span class=\"line\">%S    <span class=\"comment\">#秒</span></span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 转为base64编码</span></span><br><span class=\"line\">base64 图片名.jpg &gt; 图片名.txt</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 恢复base64图片</span></span><br><span class=\"line\">base64 -d 图片名.txt &gt; 图片名.jpg</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 安卓打开链接</span></span><br><span class=\"line\">am start -a android.intent.action.VIEW -d http://abc.com</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 删除abc和cba之外</span></span><br><span class=\"line\"><span class=\"built_in\">shopt</span> -s extglob</span><br><span class=\"line\">rm -rf !(abc|bca)</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># for循环100次</span></span><br><span class=\"line\">i=1</span><br><span class=\"line\"><span class=\"keyword\">for</span>((; i&lt;=100; i++))&#123;</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">\"内容\"</span> &gt;&gt; <span class=\"variable\">$i</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 截屏</span></span><br><span class=\"line\">screencap /sdcard/abc.png</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 空白符号</span></span><br><span class=\"line\">ㅤㅤㅤ</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># tar备份</span></span><br><span class=\"line\">tar -cvf /sdcard/abc.tar /        <span class=\"comment\"># 备份</span></span><br><span class=\"line\">tar -xvf /sdcard/abc.tar -C /     <span class=\"comment\"># 恢复</span></span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 自身apk内资源路径</span></span><br><span class=\"line\">/android_asset/</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 挂载可读写</span></span><br><span class=\"line\">mount -o remount -rw /</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 锁定abc</span></span><br><span class=\"line\">chattr -R +i abc     <span class=\"comment\"># 加锁</span></span><br><span class=\"line\">chattr -R -i abc     <span class=\"comment\"># 解锁</span></span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 合并a和b为c</span></span><br><span class=\"line\">cat a b &gt; c</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># linux黑洞</span></span><br><span class=\"line\">/dev/null</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 生成1024g空文件abc</span></span><br><span class=\"line\">dd <span class=\"keyword\">if</span>=/dev/zero of=abc bs=1G count=0 seek=1024</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 清空abc但不删除</span></span><br><span class=\"line\">: &gt; abc</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查找abc并删除</span></span><br><span class=\"line\">find / -name abc |xargs rm -rf</span><br></pre></td></tr></table></div></figure>\n\n<h1 id=\"vim\">vim<a href=\"post/000#vim\"></a></h1><p>记录一些vim指令</p>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 删除空行</span></span><br><span class=\"line\">:g/^$/d</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 删除空行以及只有空格的行</span></span><br><span class=\"line\">:g/^\\s*$/d</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 删除以 # 或 空格# 或 tab# 开头的行</span></span><br><span class=\"line\">:g/^\\s*<span class=\"comment\">#/d</span></span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 十六进制模式</span></span><br><span class=\"line\">:%!xxd        <span class=\"comment\"># 开启</span></span><br><span class=\"line\">:%!xxd -r     <span class=\"comment\"># 关闭</span></span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 把每行的abc替换成cba</span></span><br><span class=\"line\">:1,<span class=\"variable\">$s</span>/abc/cba/g</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 删除包含abc的行</span></span><br><span class=\"line\">:g/abc/d</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 删除不包含abc的行</span></span><br><span class=\"line\">:v/abc/d</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 每行行首添加abc</span></span><br><span class=\"line\">:%s/^/abc/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 每行行尾添加abc</span></span><br><span class=\"line\">:%s/$/abc/</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 自动折行</span></span><br><span class=\"line\">:<span class=\"built_in\">set</span> nowrap     <span class=\"comment\"># 开启</span></span><br><span class=\"line\">:<span class=\"built_in\">set</span> wrap       <span class=\"comment\"># 关闭</span></span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 显示行号</span></span><br><span class=\"line\">:<span class=\"built_in\">set</span> nu</span><br></pre></td></tr></table></div></figure>\n<figure class=\"highlight sh\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 删除光标所在行</span></span><br><span class=\"line\">dd</span><br></pre></td></tr></table></div></figure>\n\n<hr>\n<h1 id=\"完\">完<a href=\"post/000#完\"></a></h1>","prev":{"title":"Huge The Book","link":"post/00"},"next":{"title":"ai核心代码，估值一个亿","link":"post/6"},"plink":"https://nibazshab.github.io/post/000/","toc":[{"title":"shell","id":"shell","index":"1"},{"title":"vim","id":"vim","index":"2"},{"title":"完","id":"完","index":"3"}],"reward":true}