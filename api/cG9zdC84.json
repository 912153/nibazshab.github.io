{"title":"制作DEBIAN软件包","date":"2020-03-01T07:59:38.000Z","date_formatted":{"ll":"Mar 1, 2020","L":"03/01/2020","MM-DD":"03-01"},"link":"post/8","categories":["pages"],"updated":"2020-06-30T04:13:32.216Z","content":"<p>DEBIAN软件包，分为2个部分</p>\n<ul><li>配置文件</li>\n<li>运行文件</li>\n</ul><p>我们先创建一个文件夹，用来放置DEBIAN软件包的源文件，<strong>假设此文件夹名为 <code>test</code>，存在与根目录</strong></p>\n<h1 id=\"配置文件\">配置文件<a href=\"#配置文件\" title=\"配置文件\"></a></h1><p>就是一个用来描述和构建deb包时需要用到的文件，必须命名为 <code>control</code> ，内容示例如下</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Package: test       包名</span><br><span class=\"line\">Version: 1.0      版本号</span><br><span class=\"line\">Architecture: all      运行架构</span><br></pre></td></tr></table></figure><p><code>control</code> 文件还有许多东西可填写，这里不一一描述，有相关需求的可以借助搜索引擎，经本人测试，以上示例为必填项，否则无法打包DEBIAN程序</p>\n<ul><li>起冲突</li>\n<li>软件大小</li>\n<li>描述</li>\n<li>优先级</li>\n<li>所需依赖</li>\n<li>类别</li>\n<li>取代程序</li>\n<li>开发者</li>\n<li>联系方式</li>\n<li>…</li>\n</ul><h1 id=\"运行文件\">运行文件<a href=\"#运行文件\" title=\"运行文件\"></a></h1><p>顾名思义，用来运行的文件，通常是 <strong>2进制</strong> 可运行文件，由程序源码，通过编译产生，也可是 <strong>shell</strong> 可运行文件</p>\n<p>如果有其他文件需求，也可一并放入，需要确保有 <strong>可运行文件</strong> 存在</p>\n<h1 id=\"打包\">打包<a href=\"#打包\" title=\"打包\"></a></h1><p>在 <code>tset</code> 目录下创建一个 <code>DEBIAN</code> 文件夹，将 <code>control</code> 放在 <code>/test/DEBIAN/</code> 目录下</p>\n<p>在 <code>tset</code> 目录下创建运行文件所需要的目录，将 运行文件放入其中，<strong>运行文件</strong> 在deb程序安装之后，就会存在于此目录下</p>\n<h2 id=\"包示例\">包示例<a href=\"#包示例\" title=\"包示例\"></a></h2><blockquote>\n<p>单一可运行文件<br><img src=\"https://nibazshab.coding.net/p/none/d/none/git/raw/master/picture/15.png\" class=\"φcy\"></p>\n</blockquote>\n<blockquote>\n<p>多个文件<br><img src=\"https://nibazshab.coding.net/p/none/d/none/git/raw/master/picture/14.png\" class=\"φcy\"></p>\n</blockquote>\n<h2 id=\"打包-1\">打包<a href=\"#打包-1\" title=\"打包\"></a></h2><p>进入 <code>test</code> 的上一级目录，即为创建 <code>test</code> 时的目录</p>\n<p>输入以下指令打包</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dpkg-deb -b  tset test.deb</span><br></pre></td></tr></table></figure><p>然后我们就会看到一个 <code>test.deb</code> 文件出现，这时候就完成了</p>\n","prev":{"title":"剑圣的知识科普","link":"post/9"},"next":{"title":"估值一亿的ai核心代码","link":"post/7"},"plink":"https://nibazshab.github.io/post/8/","toc":[{"id":"配置文件","title":"配置文件","index":"1"},{"id":"运行文件","title":"运行文件","index":"2"},{"id":"打包","title":"打包","index":"3","children":[{"id":"包示例","title":"包示例","index":"3.1"},{"id":"打包-1","title":"打包","index":"3.2"}]}],"reward":true}