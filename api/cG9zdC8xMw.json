{"title":"ffmpeg 视频工具的一些操作","date":"2020-06-30T03:48:23.000Z","date_formatted":{"ll":"Jun 30, 2020","L":"06/30/2020","MM-DD":"06-30"},"link":"post/13","categories":["pages"],"updated":"2020-07-15T17:20:34.655Z","content":"<p>众所周知，从某些视频网站下载的视频是分段的，看起来就会非常的难受，我们要做的就是把它们尽可能无损的合并起来</p>\n<p><del>测试于 linux ，不知道 windows 能不能行</del></p>\n<blockquote>\n<p>ffmpeg concat</p>\n</blockquote>\n<h1 id=\"准备视频\">准备视频<a href=\"#准备视频\" title=\"准备视频\"></a></h1><p>首先第一步，当然是把要合并的视频给准备好</p>\n<p>假设这里有 <strong>50</strong> 个视频，我们要把它们全都放进同一个文件夹里，假设该文件夹名为 <strong>test</strong></p>\n<p>为了便于后面的操作，要使用批量重命名工具，把它们全部重命名为 <code>1.mp4</code> <code>2.mp4</code></p>\n<ul><li><strong>如下</strong><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">test</span><br><span class=\"line\"></span><br><span class=\"line\">  ├── 1.mp4</span><br><span class=\"line\">  ├── 2.mp4</span><br><span class=\"line\">  ├── 3.mp4</span><br><span class=\"line\">     .</span><br><span class=\"line\">     .</span><br><span class=\"line\">     .</span><br><span class=\"line\">  └── 50.mp4</span><br></pre></td></tr></table></figure></li>\n</ul><h1 id=\"概括文件\">概括文件<a href=\"#概括文件\" title=\"概括文件\"></a></h1><p><strong>在上一步所说的 test 文件夹中</strong>创建一个TXT文件，假设其名为 <strong>conl.txt</strong></p>\n<p>打开终端，进入<code>test</code>目录，输入</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> ((i=1;i&lt;=50;i++))</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">    <span class=\"built_in\">echo</span> <span class=\"string\">\"file '<span class=\"variable\">$i</span>.mp4'\"</span> &gt;&gt; conl.txt</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure><h1 id=\"合并\">合并<a href=\"#合并\" title=\"合并\"></a></h1><p>上一步完成后，终端不要关闭，接着输入如下指令</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg -f concat -i conl.txt -c copy all.mp4</span><br></pre></td></tr></table></figure><p>等待半晌，生成的 <strong>all.mp4</strong> 即为合并后的视频</p>\n<hr>\n<blockquote>\n<p>截取视频片段</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg -ss 00:00:00 -i a.mp4 -t 00:00:00 -c:v copy -c:a copy b.mp4</span><br></pre></td></tr></table></figure>","prev":{"title":"神不在的星期天","link":"post/14"},"next":{"title":"苹果设备上激活WPS专业版","link":"post/12"},"plink":"https://nibazshab.github.io/post/13/","toc":[{"id":"准备视频","title":"准备视频","index":"1"},{"id":"概括文件","title":"概括文件","index":"2"},{"id":"合并","title":"合并","index":"3"}],"reward":true}