{"title":"win手动安装linux子系统","date":"2020-03-29T05:48:34.000Z","date_formatted":{"ll":"Mar 29, 2020","L":"03/29/2020","MM-DD":"03-29"},"link":"post/10","categories":["pages"],"updated":"2020-04-19T07:06:54.730Z","content":"<h1 id=\"写在前面\">写在前面<a href=\"#写在前面\" title=\"写在前面\"></a></h1><p><code>win10</code>可以安装<code>linux</code>子系统，但直接在uwp商店里安装的是在<strong>C盘</strong>，本文讲述一个手动安装的方法，可自定义安装位置</p>\n<blockquote>\n<p>本文以D盘为例，下文未用粗体标注的<code>cmd</code>与<code>powershell</code>通用</p>\n</blockquote>\n<div class=\"φcz\"><div class=\"φdb\"><table><thead><tr>\n<th align=\"left\">条件</th><th align=\"right\">详情</th></tr>\n</thead><tbody><tr>\n<td align=\"left\">powershell</td><td align=\"right\">权限环境</td></tr>\n<tr>\n<td align=\"left\">浏览器</td><td align=\"right\">下载工具</td></tr>\n<tr>\n<td align=\"left\">WSL</td><td align=\"right\">使用原理</td></tr>\n</tbody></table></div></div><h1 id=\"准备工作\">准备工作<a href=\"#准备工作\" title=\"准备工作\"></a></h1><h2 id=\"开启wsl\">开启WSL<a href=\"#开启wsl\" title=\"开启WSL\"></a></h2><p>使用<strong>管理员权限</strong>打开<strong>powershell</strong></p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Enable-WindowsOptionalFeature</span> <span class=\"literal\">-Online</span> <span class=\"literal\">-FeatureName</span> Microsoft<span class=\"literal\">-Windows</span><span class=\"literal\">-Subsystem</span><span class=\"literal\">-Linux</span></span><br></pre></td></tr></table></figure><p>输入以上指令，如提示重新启动则确认，等待自动重新开机</p>\n<h2 id=\"下载linux包\">下载Linux包<a href=\"#下载linux包\" title=\"下载Linux包\"></a></h2><p>下载地址：<code>https://docs.microsoft.com/zh-cn/windows/wsl/install-manual</code><br>选则一个系统下载，然后找到它，并把它后缀由<code>appx</code>改为 <code>zip</code>，然后解压，找到 <code>install.tar.gz</code>，记住它的路径</p>\n<h2 id=\"安装管理工具\">安装管理工具<a href=\"#安装管理工具\" title=\"安装管理工具\"></a></h2><p>下载地址：<code>https://github.com/DDoSolitary/LxRunOffline/releases</code><br>下载好后解压它，找到<code>LxRunOffline.exe</code>，记住它的路径</p>\n<p>打开<code>cmd</code>，输入<strong>管理工具的路径</strong></p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">例：D:\\Download\\LxRunOffline.exe</span><br></pre></td></tr></table></figure><p>若提示<strong>[ERROR]No action is specified</strong>则说明成功</p>\n<h1 id=\"正式开始\">正式开始<a href=\"#正式开始\" title=\"正式开始\"></a></h1><p>打开<code>cmd</code>，输入如下内容以安装<code>linux</code>子系统</p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;工具路径&gt; i <span class=\"literal\">-n</span> &lt;安装名称，自定义&gt; <span class=\"literal\">-d</span> &lt;安装路径，自定义&gt; <span class=\"operator\">-f</span> &lt;系统路径&gt;</span><br></pre></td></tr></table></figure><figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">例：D:\\Download\\LxRunOffline.exe i <span class=\"literal\">-n</span> ubuntu <span class=\"literal\">-d</span> D:\\linux\\ <span class=\"operator\">-f</span> D:\\Download\\install.tar.gz</span><br></pre></td></tr></table></figure><p>抽根烟，静待安装结束</p>\n<h1 id=\"启动\">启动<a href=\"#启动\" title=\"启动\"></a></h1><p>打开<code>cmd</code>，输入<code>bash</code>即可看到久违的<code>Linux</code>命令行</p>\n<h1 id=\"卸载系统\">卸载系统<a href=\"#卸载系统\" title=\"卸载系统\"></a></h1><p>执行以下指令查看已安装的<code>linux</code>名称，并用第二条命令注销</p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wslconfig /l</span><br></pre></td></tr></table></figure><figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wslconfig /u &lt;名称&gt;</span><br></pre></td></tr></table></figure>","prev":{"title":"奇怪的记录增加了","link":"post/1"},"next":{"title":"剑圣的知识科普","link":"post/9"},"plink":"https://nibazshab.github.io/post/10/","toc":[{"id":"写在前面","title":"写在前面","index":"1"},{"id":"准备工作","title":"准备工作","index":"2","children":[{"id":"开启wsl","title":"开启WSL","index":"2.1"},{"id":"下载linux包","title":"下载Linux包","index":"2.2"},{"id":"安装管理工具","title":"安装管理工具","index":"2.3"}]},{"id":"正式开始","title":"正式开始","index":"3"},{"id":"启动","title":"启动","index":"4"},{"id":"卸载系统","title":"卸载系统","index":"5"}],"reward":true}